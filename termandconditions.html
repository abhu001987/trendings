<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Paccy Platformer</title>
<style>
body{
    margin:0;
    overflow:hidden;
    background:#87ceeb;
}
#game{
    position:relative;
    width:100vw;
    height:100vh;
    background:#6db3f2;
}
#world{
    position:absolute;
    height:100%;
    width:3000px;
}
#player{
    position:absolute;
    width:70px;
    height:90px;
    background:url('https://studymate81.wordpress.com/wp-content/uploads/2026/01/image_of_paccy_as_hero-removebg-preview.png') no-repeat center/contain;
}
.block{
    position:absolute;
    width:80px;
    height:80px;
    background:#8b4513;
    border:3px solid #5a2d0c;
}
.ground{
    position:absolute;
    bottom:0;
    height:80px;
    width:3000px;
    background:#228b22;
}
</style>
</head>
<body>

<div id="game">
    <div id="world">
        <div class="ground"></div>

        <!-- BLOCKS -->
        <div class="block" style="left:400px; top:400px"></div>
        <div class="block" style="left:480px; top:400px"></div>
        <div class="block" style="left:700px; top:320px"></div>
        <div class="block" style="left:1000px; top:350px"></div>
        <div class="block" style="left:1200px; top:280px"></div>

        <div id="player"></div>
    </div>
</div>

<script>
const player = document.getElementById("player");
const world = document.getElementById("world");
const blocks = document.querySelectorAll(".block");

let x = 100, y = 300;
let vx = 0, vy = 0;
let onGround = false;

const gravity = 0.8;
const speed = 5;
const jumpPower = 16;
const keys = {};

document.addEventListener("keydown", e => keys[e.key.toLowerCase()] = true);
document.addEventListener("keyup", e => keys[e.key.toLowerCase()] = false);

function rectsCollide(a,b){
    return a.x < b.x+b.w &&
           a.x+a.w > b.x &&
           a.y < b.y+b.h &&
           a.y+a.h > b.y;
}

function update(){
    // INPUT
    vx = 0;
    if(keys["a"]) vx = -speed;
    if(keys["d"]) vx = speed;
    if(keys["w"] && onGround){
        vy = -jumpPower;
        onGround = false;
    }
    if(keys["s"]) vy += 1;

    // PHYSICS
    vy += gravity;
    x += vx;
    y += vy;

    onGround = false;

    // COLLISION WITH GROUND
    if(y + 90 >= 80){
        y = 80 - 90;
        vy = 0;
        onGround = true;
    }

    // COLLISION WITH BLOCKS
    blocks.forEach(b=>{
        const br = b.getBoundingClientRect();
        const wr = world.getBoundingClientRect();

        const block = {
            x: br.left - wr.left,
            y: br.top - wr.top,
            w: br.width,
            h: br.height
        };

        const playerRect = { x, y, w:70, h:90 };

        if(rectsCollide(playerRect, block)){
            if(vy > 0){
                y = block.y - 90;
                vy = 0;
                onGround = true;
            }
        }
    });

    // CAMERA FOLLOW
    world.style.transform = `translateX(${-x + 200}px)`;
    player.style.left = x + "px";
    player.style.top = y + "px";

    requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
