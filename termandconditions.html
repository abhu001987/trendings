<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Paccy Platformer â€“ Enemies</title>
<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:#64b5f6;
}
#game{
  width:100vw;
  height:100vh;
  position:relative;
  overflow:hidden;
}
#world{
  position:absolute;
  width:10000px;
  height:100%;
}

/* PLAYER */
#player{
  position:absolute;
  width:80px;
  height:120px;
  background:url("https://studymate81.wordpress.com/wp-content/uploads/2026/01/image_of_paccy_as_hero-removebg-preview.png") no-repeat center/contain;
  pointer-events:none;
}

/* GROUND */
.ground-top{
  position:absolute;
  left:-32px;
  height:16px;
  width:10000px;
  background:#2ecc71;
  bottom:64px;
}
.ground-fill{
  position:absolute;
  left:-32px;
  height:64px;
  width:10000px;
  background:#8e5a2a;
  bottom:0;
}

/* PLATFORMS */
.block{
  position:absolute;
  width:80px;
  height:80px;
  background:#8b4513;
  border:3px solid #5a2d0c;
}

/* ENEMIES */
.enemy{
  position:absolute;
  width:70px;
  height:70px;
  background-size:contain;
  background-repeat:no-repeat;
}
.fly{ bottom:260px; }
.floor{ bottom:64px; }
</style>
</head>
<body>

<div id="game">
  <div id="world">

    <!-- GROUND -->
    <div class="ground-top"></div>
    <div class="ground-fill"></div>

    <!-- PLAYER -->
    <div id="player"></div>

    <!-- PLATFORMS -->
    <div class="block" style="left:500px; top:380px"></div>
    <div class="block" style="left:700px; top:300px"></div>
    <div class="block" style="left:900px; top:220px"></div>

  </div>
</div>
<script>
/* ===== PHYSICS ===== */
const DOWN_FORCE = 2;
const ACCELERATION = 1.3;
const DAMPENING = 0.75;
const JUMP_IMPULSE = -35;

const HITBOX_W = 60;
const HITBOX_H = 80;
const SPRITE_OFFSET = 20;
const GROUND_Y = window.innerHeight - 64;

const world = document.getElementById("world");
const playerEl = document.getElementById("player");

let player = {
  x:200, y:GROUND_Y-HITBOX_H,
  vx:0, vy:0,
  grounded:true,
  facing:"right"
};

/* INPUT */
const keys = {};
addEventListener("keydown",e=>keys[e.key.toLowerCase()]=true);
addEventListener("keyup",e=>keys[e.key.toLowerCase()]=false);

/* COLLISION */
function hit(a,b){
  return a.x < b.x+b.w && a.x+a.w > b.x &&
         a.y < b.y+b.h && a.y+a.h > b.y;
}

/* ===== ENEMIES ===== */
const enemies = [];

function spawnEnemy(type){
  const e = document.createElement("div");
  e.className = "enemy "+type;

  if(type==="walk"){
    e.style.backgroundImage = "url(https://studymate81.wordpress.com/wp-content/uploads/2026/01/skeleton-walking_1.png)";
    e.speed = -2;
    e.y = GROUND_Y - 70;
  }
  if(type==="fly"){
    e.style.backgroundImage = "url(https://studymate81.wordpress.com/wp-content/uploads/2026/01/skeleton-fly_09.png)";
    e.speed = -3;
    e.y = GROUND_Y - 220;
  }
  if(type==="floor"){
    e.style.backgroundImage = "url(https://studymate81.wordpress.com/wp-content/uploads/2026/01/skeleton-get_hit_5.png)";
    e.speed = 0;
    e.y = GROUND_Y - 70;
  }
  if(type==="danger"){
    e.style.backgroundImage = "url(https://studymate81.wordpress.com/wp-content/uploads/2026/01/skeleton-walking_2.png)";
    e.speed = -5;
    e.y = GROUND_Y - 70;
  }

  e.x = player.x + window.innerWidth + Math.random()*300;
  e.style.left = e.x+"px";
  e.style.top = e.y+"px";

  world.appendChild(e);
  enemies.push(e);
}

/* SPAWN LOGIC */
setInterval(()=>{
  spawnEnemy("walk");
  spawnEnemy("fly");
  if(Math.random()<0.4) spawnEnemy("floor");
  if(Math.random()<0.2) spawnEnemy("danger");
},4000);

/* ===== GAME LOOP ===== */
function update(){
  if(keys["a"]) player.vx -= ACCELERATION;
  if(keys["d"]) player.vx += ACCELERATION;
  if(keys["w"] && player.grounded){
    player.vy += JUMP_IMPULSE;
    player.grounded=false;
  }

  player.vy += DOWN_FORCE;
  player.x += player.vx;
  player.y += player.vy;
  player.vx *= DAMPENING;

  player.grounded=false;
  if(player.y + HITBOX_H >= GROUND_Y){
    player.y = GROUND_Y - HITBOX_H;
    player.vy=0;
    player.grounded=true;
  }

  enemies.forEach(e=>{
    e.x += e.speed;
    e.style.left = e.x+"px";

    const p = {x:player.x,y:player.y,w:HITBOX_W,h:HITBOX_H};
    const b = {x:e.x,y:e.y,w:70,h:70};

    if(hit(p,b)){
      alert("ðŸ’€ You Died");
      location.reload();
    }
  });

  world.style.transform = `translateX(${-player.x+200}px)`;
  playerEl.style.left = player.x+"px";
  playerEl.style.top = (player.y-SPRITE_OFFSET)+"px";

  requestAnimationFrame(update);
}
update();
</script>

</body>
</html>
