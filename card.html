
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Creator Card ‚Äî Card Swiper (Blogs & Shop)</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

  :root{
    --card-width: 320px;
    --card-height: 440px;
    --stack-gap-y: 12px;
    --stack-gap-z: 12px;
    --swap-duration: 300ms;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:"Poppins",system-ui,Segoe UI,Roboto,Helvetica,Arial;
    background: linear-gradient(135deg,#9be7ff,#59c3ff);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    justify-content:center;
    padding:28px 16px;
    color:#fff;
    min-height:100vh;
  }

  .container { width:100%; max-width:760px; }

  /* box */
  .box {
    background: rgba(255,255,255,0.04);
    border-radius:18px;
    border:1px solid rgba(255,255,255,0.12);
    padding:16px;
    backdrop-filter: blur(8px);
    box-shadow: 0 18px 50px rgba(0,0,0,0.18);
  }

  .top-row { display:flex; justify-content:space-between; align-items:center; gap:8px; }
  .icon-btn { width:40px;height:40px;border-radius:10px;background:rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:center;cursor:pointer }

  /* small creator card */
  .name-card { margin-top:12px; border-radius:14px; overflow:hidden; position:relative; height:220px; }
  .name-card img { width:100%;height:100%;object-fit:cover; filter:brightness(.6) }
  .card-overlay{ position:absolute; inset:0; padding:14px; display:flex; flex-direction:column; justify-content:space-between; }
  .avatar { width:68px;height:68px;border-radius:12px; overflow:hidden; border:2px solid rgba(255,255,255,0.12) }
  .avatar img{ width:100%;height:100%;object-fit:cover }

  .social-row { display:flex; gap:10px }
  .social-item { width:64px; text-align:center; position:relative }
  .social-btn { width:44px;height:44px;border-radius:10px;background:rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:center }
  .count { margin-top:6px;font-weight:700 }

  .glow { position:absolute; inset:0; transform:translateY(10px); filter:blur(10px); opacity:.7; z-index:-1 }
  .yt .glow{ background: rgba(255,12,12,0.2); box-shadow:0 8px 28px rgba(255,12,12,0.18) }
  .ig .glow{ background: linear-gradient(90deg, rgba(255,60,140,0.18), rgba(255,160,80,0.12)); box-shadow:0 8px 28px rgba(255,80,150,0.12) }
  .tw .glow{ background: rgba(0,220,255,0.14); box-shadow:0 8px 28px rgba(0,200,255,0.12) }
  .ds .glow{ background: rgba(160,120,255,0.13); box-shadow:0 8px 28px rgba(150,120,255,0.14) }

  /* tabs */
  .tabs { display:flex; gap:12px; justify-content:center; margin-top:16px }
  .tab-btn { padding:8px 18px; border-radius:999px; border:0; background:rgba(255,255,255,0.08); color:#fff; cursor:pointer; font-weight:700 }
  .tab-btn.active { background:rgba(255,255,255,0.26) }

  /* stack container */
  .stack-area { width:100%; display:flex; justify-content:center; margin-top:14px; }
  .stack {
    width:var(--card-width);
    height:var(--card-height);
    position:relative;
    perspective:900px;
    -webkit-perspective:900px;
    touch-action: none;
  }

  /* card style */
  .card {
    --i: 1;
    position:absolute;
    left:50%;
    top:0;
    transform-origin: center center;
    width:var(--card-width);
    height:var(--card-height);
    border-radius:14px;
    overflow:hidden;
    box-shadow: 0 10px 30px rgba(2,6,23,0.45);
    transform: translateX(-50%) translateY(calc(var(--i) * var(--stack-gap-y))) translateZ(calc(var(--i) * -1px * var(--stack-gap-z)));
    transition: transform var(--swap-duration) cubic-bezier(.2,.9,.27,1), opacity var(--swap-duration);
    background:#111;
    cursor: grab;
    user-select:none;
    -webkit-user-drag: none;
  }
  .card img { width:100%; height:100%; object-fit:cover; display:block; pointer-events:none; user-select:none }

  /* top card active styles via CSS vars (swipe x & rotate) */
  .card[data-swipe-x] { transform: translateX(calc(-50% + var(--swipe-x))) translateY(calc(var(--i) * var(--stack-gap-y))) translateZ(calc(var(--i) * -1px * var(--stack-gap-z))) rotate(var(--swipe-rotate)); }

  /* while dragging show cursor grabbing */
  .card.is-dragging { cursor:grabbing }

  /* small indicator when stack empty */
  .empty {
    display:none;
    text-align:center;
    padding:40px 12px;
    color:rgba(255,255,255,0.8);
  }
  .empty.show { display:block }

  /* popup */
  .popup {
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background: rgba(0,0,0,0.75); z-index:9999;
  }
  .popup img { max-width:92%; max-height:92%; border-radius:14px; box-shadow:0 12px 44px rgba(0,0,0,0.6) }

  /* responsive adjustments */
  @media (max-width:420px) {
    :root { --card-width: 290px; --card-height: 380px }
    .card { border-radius:12px }
  }

</style>
</head>
<body>
  <div class="container">
    <div class="box">
   <div class="top-row">
        <div style="display:flex;gap:8px">
          <div class="icon-btn" onclick="history.back()">‚Üê</div>
        </div>
        <div class="icon-btn" title="Profile">üë§</div>
      </div>

      <!-- creator name card -->
      <div class="name-card" role="region" aria-label="Creator card">
        <img src="https://images.unsplash.com/photo-1503264116251-35a269479413?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=b7a16c2d61a7f7d2c0d334d9c8e6d6c3" alt="background">
        <div class="card-overlay">
          <div style="display:flex;align-items:center;gap:12px">
            <div class="avatar"><img src="https://i.ibb.co/QD8c0yk/profile.png" alt="avatar"></div>
            <div>
              <div style="font-weight:700;font-size:1.1rem">Abhishek Kumar</div>
              <div style="opacity:.9;font-size:0.9rem">Creator ‚Ä¢ Tech & Affiliate</div>
            </div>
          </div>
          <div
style="display:flex;align-items:center;gap:12px;justify-content:flex-start">
            <div class="social-row">
              <div class="social-item yt">
                <div class="social-btn"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="yt"></div>
                <div class="glow"></div>
                <div class="count">12.4K</div>
              </div>
              <div class="social-item ig">
                <div class="social-btn"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="ig"></div>
                <div class="glow"></div>
                <div class="count">8.2K</div>
              </div>
              <div class="social-item tw">
                <div class="social-btn"><img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="tw"></div>
                <div class="glow"></div>
                <div class="count">3.5K</div>
              </div>
              <div class="social-item ds">
                <div class="social-btn"><img src="https://cdn-icons-png.flaticon.com/512/5968/5968756.png" alt="ds"></div>
                <div class="glow"></div>
                <div class="count">1.1K</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- tabs -->
      <div class="tabs" role="tablist" aria-label="Content tabs">
        <button class="tab-btn active" data-target="blogs">Blogs</button>
        <button class="tab-btn" data-target="shop">Shop</button>
      </div>

      <!-- stack areas -->
      <div class="stack-area">

        <!-- Blogs stack -->
        <div id="blogs" class="stack" role="region" aria-label="Blogs stack"></div>

        <!-- Shop stack (hidden by default) -->
        <div id="shop" class="stack" role="region" aria-label="Shop stack" style="display:none"></div>

      </div>

    </div>
  </div>

  <!-- popup -->
  <div id="popup" class="popup" role="dialog" aria-modal="true" onclick="closePopup()">
    <img id="popupImg" alt="Preview">
  </div>

<script>
/* ---------- Card Swiper (vanilla JS) ----------

 Behavior:
 - Cards are stacked with CSS transforms based on index (--i)
 - Top card is draggable horizontally (mouse/touch)
 - If released past threshold -> swipe away (animates out) and card moves to back
 - If released before threshold -> snaps back
 - After swap, stack re-renders with updated indices

 Usage:
  createStack(containerId, arrayOfImageUrls)
*/

function createStack(containerId, images) {
  const container = document.getElementById(containerId);
  container.innerHTML = ''; // reset

  // create card elements
  const cards = images.map((src, i) => {
    const el = document.createElement('div');
    el.className = 'card';
    el.style.setProperty('--i', i + 1);
    el.innerHTML = `<img src="${src}" draggable="false" alt="card ${i+1}">`;
    container.appendChild(el);
    return el;
  });

  // helper to refresh transforms based on current DOM order
  function refreshStack() {
    const elems = [...container.querySelectorAll('.card')];
    elems.forEach((el, idx) => {
      el.style.transition = `transform var(--swap-duration) cubic-bezier(.2,.9,.27,1), opacity var(--swap-duration)`;
      el.style.setProperty('--i', idx + 1);
      // clear swipe vars
      el.style.removeProperty('--swipe-x');
      el.style.removeProperty('--swipe-rotate');
      el.classList.remove('is-dragging');
      // ensure visible
      el.style.opacity = '1';
    });
  }

  refreshStack();

  // pointer drag variables
  let active = null;
  let startX = 0;
  let currentX = 0;
  let dragging = false;
  const threshold = Math.max(60, window.innerWidth * 0.12); // px

  // set top card to be interactive
  function topCard() {
    return container.querySelector('.card');
  }

  // apply drag transforms to top card
  function applyDrag(dx) {
    const card = topCard();
    if (!card) return;
    card.style.setProperty('--swipe-x', dx + 'px');
    card.style.setProperty('--swipe-rotate', (dx * 0.12) + 'deg');
    card.dataset.swipeX = dx;
    card.setAttribute('data-swipe-x', dx);
    card.classList.add('is-dragging');
  }

  // remove swipe attributes (snap back)
  function snapBack() {
    const card = topCard();
    if (!card) return;
    card.style.transition = `transform 220ms cubic-bezier(.2,.9,.27,1), opacity 220ms`;
    card.style.removeProperty('--swipe-x');
    card.style.removeProperty('--swipe-rotate');
    setTimeout(()=> {
      card.style.transition = '';
      delete card.dataset.swipeX;
      card.removeAttribute('data-swipe-x');
      card.classList.remove('is-dragging');
    }, 230);
  }

  // animate swipe away and move card to back of DOM
  function swipeAway(dir) {
    const card = topCard();
    if (!card) return;
    const offX = dir * (Math.max(window.innerWidth, 800) * 1.2);
    card.style.transition = `transform ${getSwapMs()}ms cubic-bezier(.18,.9,.27,1), opacity ${getSwapMs()}ms`;
    // set final transform
    card.style.setProperty('--swipe-x', offX + 'px');
    card.style.setProperty('--swipe-rotate', (dir * 30) + 'deg');
    card.style.opacity = '0';
    // after animation, move card to back and refresh
    setTimeout(() => {
      card.style.transition = '';
      card.style.opacity = '1';
      // DOM reorder: move first to end
      container.appendChild(card);
      refreshStack();
    }, getSwapMs() + 30);
  }

  function getSwapMs() {
    // read CSS var --swap-duration (ms) from root or fallback
    const root = getComputedStyle(document.documentElement);
    const v = root.getPropertyValue('--swap-duration') || '300ms';
    if (v.trim().endsWith('ms')) return parseFloat(v);
    if (v.trim().endsWith('s')) return parseFloat(v) * 1000;
    return parseFloat(v) || 300;
  }

  // pointer handlers
  function onPointerDown(e) {
    if (dragging) return;
    const card = topCard();
    if (!card) return;
    dragging = true;
    active = card;
    startX = (e.touches ? e.touches[0].clientX : e.clientX);
    currentX = startX;
    // remove transition for immediate response
    active.style.transition = 'none';
    active.classList.add('is-dragging');
  }

  function onPointerMove(e) {
    if (!dragging || !active) return;
    const clientX = (e.touches ? e.touches[0].clientX : e.clientX);
    const dx = clientX - startX;
    currentX = clientX;
    applyDrag(dx);
  }

  function onPointerUp() {
    if (!dragging || !active) return;
    const dx = currentX - startX;
    dragging = false;
    active.classList.remove('is-dragging');

    // decay / threshold check
    if (Math.abs(dx) > threshold) {
      const dir = dx > 0 ? 1 : -1;
      swipeAway(dir);
    } else {
      snapBack();
    }
    active = null;
  }

  // add pointer listeners to container
  container.addEventListener('mousedown', onPointerDown);
  window.addEventListener('mousemove', onPointerMove);
  window.addEventListener('mouseup', onPointerUp);

  container.addEventListener('touchstart', onPointerDown, {passive:true});
  container.addEventListener('touchmove', onPointerMove, {passive:true});
  container.addEventListener('touchend', onPointerUp);

  // click to open popup (on top card or any)
  const popup = document.getElementById('popup');
  const popupImg = document.getElementById('popupImg');
  container.addEventListener('click', (ev) => {
    // only open if click target is an img (and not a drag)
    if (dragging) return;
    const el = ev.target.closest('.card');
    if (!el) return;
    const img = el.querySelector('img');
    if (!img) return;
    popupImg.src = img.src;
    popup.style.display = 'flex';
  });

  // keyboard support: left/right arrows trigger swipe
  container.tabIndex = 0;
  container.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') swipeAway(-1);
    if (e.key === 'ArrowRight') swipeAway(1);
  });

  // responsive: recalc stack on resize (optional)
  window.addEventListener('resize', () => {
    refreshStack();
  });

  return {
    refresh: refreshStack
  };
}

/* ---------- Setup both stacks (Blogs & Shop) ---------- */
const blogs = [
  'https://picsum.photos/600/800?blog1',
  'https://picsum.photos/600/800?blog2',
  'https://picsum.photos/600/800?blog3',
  'https://picsum.photos/600/800?blog4',
  'https://picsum.photos/600/800?blog5'
];

const shop = [
  'https://picsum.photos/600/800?product1',
  'https://picsum.photos/600/800?product2',
  'https://picsum.photos/600/800?product3',
  'https://picsum.photos/600/800?product4',
  'https://picsum.photos/600/800?product5'
];

const blogsStack = createStack('blogs', blogs);
const shopStack  = createStack('shop', shop);

/* ---------- Tabs logic ---------- */
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const target = btn.dataset.target;
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    if (target === 'blogs') {
      document.getElementById('blogs').style.display = '';
      document.getElementById('shop').style.display = 'none';
    } else {
      document.getElementById('blogs').style.display = 'none';
      document.getElementById('shop').style.display = '';
    }
  });
});

/* ---------- Popup close ---------- */
function closePopup(){
  const popup = document.getElementById('popup');
  popup.style.display = 'none';
  document.getElementById('popupImg').src = '';
}
</script>
</body>
</html>
