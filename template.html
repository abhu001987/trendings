<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Trending | Viral Gadgets</title>

  <!-- Keep the devtools-disable script if you want (copied from original) -->
  <script>
    document.addEventListener('contextmenu', event => event.preventDefault());
    document.addEventListener('keydown', e => {
      if (
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && ['i','j','c'].includes(e.key.toLowerCase())) ||
        (e.ctrlKey && ['u','s','c','x','v'].includes(e.key.toLowerCase()))
      ) {
        e.preventDefault();
      }
    });
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* (Same CSS as your original template — compressed for brevity) */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at 15% 20%, #b2c2ff 0%, transparent 40%),
        radial-gradient(circle at 85% 30%, #e5ecff 0%, transparent 45%),
        radial-gradient(circle at 40% 80%, #c0beff 0%, transparent 50%),
        linear-gradient(135deg, #edf1ff 0%, #e5ecff 100%);
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
      color: #1a1a2e;
    }
    .menu{position:absolute;top:20px;right:30px;z-index:100;}
    .menu button{background:#fff;border:none;padding:10px 18px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.08);font-weight:600;cursor:pointer;}
    .dropdown{display:none;position:absolute;right:0;background:#fff;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.12);margin-top:8px;overflow:hidden;}
    .dropdown a, .dropdown button{display:block;text-decoration:none;color:#1a1a3d;padding:10px 16px;border-bottom:1px solid #f1f1f1;background:none;text-align:left;width:100%;cursor:pointer;}
    .sub{display:none;background:#f9f9ff;}
    .sub a{padding-left:25px;}
    /* hero / slider / product-grid / cards etc. - keep same look */
    .hero{text-align:center;margin-top:90px;position:relative}
    .hero img.main-logo{width:400px}
    .slider{margin:50px auto;width:95%;overflow-x:auto;white-space:nowrap;scroll-behavior:smooth}
    .slide-btn{display:inline-block;margin:0 12px;background:#fff;border:2px solid transparent;padding:10px 20px;border-radius:30px;font-weight:600;cursor:pointer}
    .slide-btn.active{background:#14143B;color:#fff;border-color:#14143B}
    .section-title{text-align:center;font-size:1.4rem;font-weight:700;color:#1a1a3d;margin:30px 0 20px;display:inline-block}
    .product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:18px;width:90%;margin:0 auto}
    .product{background:rgba(255,255,255,0.6);border-radius:16px;backdrop-filter:blur(8px);padding:10px;display:flex;justify-content:center;align-items:center}
    .product img{width:100%;height:120px;object-fit:contain}
    .best-phones{width:90%;margin:50px auto;text-align:center}
    .best-grid{display:flex;overflow-x:auto;gap:16px;padding-bottom:12px}
    .best-card{flex:0 0 260px;position:relative;border-radius:14px;overflow:hidden;cursor:pointer}
    .best-card img{width:100%;height:180px;object-fit:cover}
    .best-card span{position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,0.5);color:#fff;padding:10px;font-weight:600;text-align:center}
    .extra-products{width:90%;margin:40px auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:18px}
    .extra-products img{width:100%;height:140px;object-fit:contain;border-radius:16px;padding:12px}
    footer{margin-top:40px;background:linear-gradient(135deg,#14143B 0%,#4F1B2C 100%);color:#fff;padding:28px 25px;border-radius:15px 15px 0 0;max-width:1500px;margin-left:auto;margin-right:auto}
    footer h2{margin-bottom:8px;font-size:1.3em}
    @media (max-width:880px){.hero img.main-logo{width:260px}}
  </style>
</head>
<body>

  <!-- Category Menu (will be replaced by JS) -->
  <div class="menu">
    <button id="categoryBtn">Categories ☰</button>
    <div class="dropdown" id="dropdownMenu">
      <!-- dynamic -->
    </div>
  </div>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-title">
      <img src="https://cdn.beebom.com/images/illustrations/100.png" class="title-icon" style="width:65px">
      <h1>Viral Gadgets on</h1>
    </div>
    <div class="center-logos" style="display:flex;align-items:center;justify-content:center;gap:18px;margin-top:22px">
      <img src="https://cdn.beebom.com/images/illustrations/smile-emoji.png" class="emoji left-emoji" alt="left-emoji" style="width:64px;height:64px">
      <img src="https://cdn.beebom.com/images/logos/instagram-beebom-gradient-logo.svg" class="main-logo" alt="instagram">
      <img src="https://cdn.beebom.com/images/illustrations/heart.png" class="emoji right-emoji" alt="right-emoji" style="width:64px;height:64px">
    </div>
  </section>

  <!-- Slider (categories will populate here) -->
  <div class="slider" id="categorySlider"></div>

  <div style="text-align:center;">
    <h2 class="section-title" id="categoryTitle">Latest</h2>
  </div>

  <div class="product-grid" id="productGrid"></div>

  <div class="best-phones">
    <h2 class="section-title">Best Phones By Price</h2>
    <div class="best-grid" id="bestGrid"></div>
  </div>

  <div class="extra-products" id="extraProducts"></div>

  <footer>
    <div style="max-width:1100px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
      <div>
        <h2 id="footerSiteName">Mobili</h2>
        <div id="socialIcons" style="display:flex;gap:10px;font-size:1.05rem;">
          <!-- social icons -->
        </div>
      </div>

      <div id="footerLinksArea" style="text-align:right;display:flex;flex-direction:column;gap:6px;">
        <!-- footer links -->
      </div>
    </div>

    <div id="footerCopyright" style="margin-top:12px;opacity:0.9;">©️2017-2025 Mobili — All Rights Reserved.</div>
  </footer>

<script>
/* Template loader: reads ?data= (encoded JSON) or localStorage fallback */
function getDataFromUrlOrLocal(){
  try{
    const params = new URLSearchParams(window.location.search);
    const encoded = params.get('data');
    if(encoded){
      try { return JSON.parse(decodeURIComponent(encoded)); } catch(e){ console.warn('data param parse failed', e); }
    }
    const local = localStorage.getItem('viralDashboard');
    if(local) return JSON.parse(local);
  }catch(e){ console.error(e); }
  return null;
}

const data = getDataFromUrlOrLocal() || {}; // partial fallback handled below

/* Provide defaults if some fields are missing */
const defaults = {
  footer: {
    siteName: "Mobili",
    copyright: "©️2017-2025 Mobili — All Rights Reserved.",
    links: [
      { text: "About Us", url: "https://en.wikipedia.org/wiki/About_us" },
      { text: "Contact Us", url: "https://en.wikipedia.org/wiki/Contact_us" },
      { text: "Privacy Policy", url: "https://en.wikipedia.org/wiki/Privacy_policy" },
      { text: "Terms and Conditions", url: "https://en.wikipedia.org/wiki/Terms_of_service" }
    ],
    socials: {
      facebook: "https://www.facebook.com",
      youtube: "https://www.youtube.com",
      instagram: "https://www.instagram.com",
      x: "https://twitter.com"
    }
  },
  categories: [
    { name: "Latest", url: "#" }
  ],
  store: [
    { name: "Instagram", url: "https://www.instagram.com" },
    { name: "YouTube", url: "https://www.youtube.com" }
  ],
  bestPhones: [],
  extraProducts: [],
  products: {}
};

function mergeWithDefaults(src, def){
  const out = JSON.parse(JSON.stringify(def));
  if(!src) return out;
  // shallow merge - for our purposes this is enough
  Object.keys(src).forEach(k => { out[k] = src[k]; });
  return out;
}

const cfg = mergeWithDefaults(data, defaults);

/* ---------- build category menu ---------- */
const dropdownMenu = document.getElementById('dropdownMenu');
const categoryBtn = document.getElementById('categoryBtn');
const storeToggleId = 'storeToggle';

function buildMenu(){
  dropdownMenu.innerHTML = '';
  cfg.categories.forEach(c => {
    const a = document.createElement('a');
    a.href = c.url || '#';
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    a.textContent = c.name || 'Category';
    dropdownMenu.appendChild(a);
  });

  // store button + submenu
  const storeBtn = document.createElement('button');
  storeBtn.id = storeToggleId;
  storeBtn.textContent = 'Store ▾';
  dropdownMenu.appendChild(storeBtn);

  const sub = document.createElement('div');
  sub.className = 'sub';
  sub.id = 'storeDropdown';
  cfg.store.forEach(s => {
    const a = document.createElement('a');
    a.href = s.url || '#';
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    a.textContent = s.name || 'Store';
    sub.appendChild(a);
  });
  dropdownMenu.appendChild(sub);

  // toggle handlers
  storeBtn.addEventListener('click', () => {
    const sd = document.getElementById('storeDropdown');
    sd.style.display = sd.style.display === 'block' ? 'none' : 'block';
  });
  categoryBtn.addEventListener('click', () => {
    dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
  });
  document.addEventListener('click', e => {
    if(!categoryBtn.contains(e.target) && !dropdownMenu.contains(e.target)){
      dropdownMenu.style.display = 'none';
    }
  });
}

/* ---------- categories slider ---------- */
const slider = document.getElementById('categorySlider');
const categoryTitle = document.getElementById('categoryTitle');
const productGrid = document.getElementById('productGrid');

function buildSlider(){
  slider.innerHTML = '';
  Object.keys(cfg.products).forEach((cat, idx) => {
    const span = document.createElement('span');
    span.className = 'slide-btn';
    if(idx===0) span.classList.add('active');
    span.dataset.cat = cat;
    span.textContent = cat;
    slider.appendChild(span);
  });
  // if no product categories defined, fall back to categories list
  if(Object.keys(cfg.products).length === 0){
    cfg.categories.forEach((c, idx) => {
      const span = document.createElement('span');
      span.className = 'slide-btn';
      if(idx===0) span.classList.add('active');
      span.dataset.cat = c.name || 'Category';
      span.textContent = c.name || 'Category';
      slider.appendChild(span);
    });
  }

  const btns = slider.querySelectorAll('.slide-btn');
  btns.forEach(b => {
    b.addEventListener('click', (e) => {
      e.preventDefault();
      document.querySelectorAll('.slide-btn').forEach(x => x.classList.remove('active'));
      b.classList.add('active');
      loadProducts(b.dataset.cat);
    });
  });

  // load first category by default
  const first = slider.querySelector('.slide-btn');
  if(first) loadProducts(first.dataset.cat);
}

function loadProducts(cat){
  productGrid.innerHTML = '';
  const list = cfg.products[cat] || [];
  categoryTitle.textContent = cat;
  list.forEach((p, idx) => {
    const a = document.createElement('a');
    a.className = 'product';
    a.href = p.url || '#';
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    const img = document.createElement('img');
    img.src = p.img || '';
    img.alt = `${cat} product ${idx+1}`;
    a.appendChild(img);
    productGrid.appendChild(a);
  });
}

/* ---------- best phones cards ---------- */
function buildBest(){
  const bestGrid = document.getElementById('bestGrid');
  bestGrid.innerHTML = '';
  (cfg.bestPhones || []).forEach(b => {
    const a = document.createElement('a');
    a.href = b.url || '#';
    a.target = '_blank';
    a.className = 'best-card';
    const img = document.createElement('img');
    img.src = b.img || '';
    a.appendChild(img);
    const span = document.createElement('span');
    span.textContent = b.title || '';
    a.appendChild(span);
    bestGrid.appendChild(a);
  });
}

/* ---------- extra products ---------- */
function buildExtra(){
  const extra = document.getElementById('extraProducts');
  extra.innerHTML = '';
  (cfg.extraProducts || []).forEach(e => {
    const a = document.createElement('a');
    a.href = e.url || '#';
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    const img = document.createElement('img');
    img.src = e.img || '';
    img.alt = e.alt || '';
    a.appendChild(img);
    extra.appendChild(a);
  });
}

/* ---------- footer ---------- */
function buildFooter(){
  document.getElementById('footerSiteName').textContent = cfg.footer.siteName || 'Mobili';
  const linksArea = document.getElementById('footerLinksArea');
  linksArea.innerHTML = '';
  (cfg.footer.links || []).forEach(l => {
    const a = document.createElement('a');
    a.href = l.url || '#';
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    a.style.color = '#fff';
    a.style.textDecoration = 'none';
    a.textContent = l.text || '';
    linksArea.appendChild(a);
  });
  document.getElementById('footerCopyright').textContent = cfg.footer.copyright || '';
  const socials = document.getElementById('socialIcons');
  socials.innerHTML = '';
  const s = cfg.footer.socials || {};
  if(s.facebook) socials.innerHTML += `<a href="${s.facebook}" target="_blank" rel="noopener" style="color:#fff;margin-right:8px">Facebook</a>`;
  if(s.youtube) socials.innerHTML += `<a href="${s.youtube}" target="_blank" rel="noopener" style="color:#fff;margin-right:8px">YouTube</a>`;
  if(s.instagram) socials.innerHTML += `<a href="${s.instagram}" target="_blank" rel="noopener" style="color:#fff;margin-right:8px">Instagram</a>`;
  if(s.x) socials.innerHTML += `<a href="${s.x}" target="_blank" rel="noopener" style="color:#fff;margin-right:8px">X</a>`;
}

/* ========== init everything ========== */
buildMenu();
buildSlider();
buildBest();
buildExtra();
buildFooter();
</script>

</body>
</html>
